{"version":3,"sources":["webpack:///./src/elements/title.ts?34a3"],"names":["Title","isHidden","super","title","location","this","documentTitle","hidden","list","currentIndex","historyState","splice","document","observedStores","customElements","define","head","querySelector","append"],"mappings":"wFAAA,wDAEO,MAAMA,UAAc,IAgBzB,YAAYC,GACVC,QACA,MAAM,MAAEC,GAAU,IAAQC,SAC1BC,KAAKC,cAAgBH,EACrBE,KAAKE,OAASN,EAjBhB,gBAAgBK,GACd,MAAM,KAAEE,EAAI,aAAEC,GAAiB,IAAQC,aACvCF,EAAKG,OAAOF,EAAc,EAAG,OAAF,wBACtBD,EAAKC,IAAa,CACrBN,MAAOG,KAET,YAAY,IAAQI,aAAc,CAChCF,SAaJ,eACE,MAAM,MAAEL,GAAU,IAAQC,SAC1B,OAAID,IAAUE,KAAKC,gBACjBD,KAAKC,cAAgBH,GACd,GAKX,SACE,MAAM,KAAEK,EAAI,aAAEC,GAAiB,IAAQC,cACjC,MAAEP,GAAUK,EAAKC,GAGvB,OADAG,SAAST,MAAQA,EACbE,KAAKE,OACA,GAAI,GAERJ,EAKE,GAAI;QACPA;MALK,GAAI;;SAxCR,EAAAU,eAAiB,CAAC,IAAQH,cAkDnCI,eAAeC,OAAO,YAAaf,GAC9BY,SAASI,KAAKC,cAAc,cAC/BL,SAASI,KAAKE,OAAO,IAAIlB,GAAM","file":"1.bundle.24304e0f42c796cc9311.js","sourcesContent":["import { html, GemElement, history, updateStore } from '..';\n\nexport class Title extends GemElement {\n  static observedStores = [history.historyState];\n\n  static setTitle(documentTitle: string) {\n    const { list, currentIndex } = history.historyState;\n    list.splice(currentIndex, 1, {\n      ...list[currentIndex],\n      title: documentTitle,\n    });\n    updateStore(history.historyState, {\n      list,\n    });\n  }\n\n  private documentTitle: string;\n\n  constructor(isHidden: boolean) {\n    super();\n    const { title } = history.location;\n    this.documentTitle = title;\n    this.hidden = isHidden;\n  }\n\n  shouldUpdate() {\n    const { title } = history.location;\n    if (title !== this.documentTitle) {\n      this.documentTitle = title;\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const { list, currentIndex } = history.historyState;\n    const { title } = list[currentIndex];\n\n    document.title = title;\n    if (this.hidden) {\n      return html``;\n    }\n    if (!title) {\n      return html`\n        <slot></slot>\n      `;\n    }\n    return html`\n      ${title}\n    `;\n  }\n}\n\ncustomElements.define('gem-title', Title);\nif (!document.head.querySelector('gem-title')) {\n  document.head.append(new Title(true));\n}\n"],"sourceRoot":""}